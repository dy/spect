{
  "version": 3,
  "sources": ["../src/sym.js", "../v.js", "../$.js", "../src/htm.js", "../src/util.js", "../h.js", "../index.js"],
  "sourcesContent": ["const S = Symbol\r\nexport const _channel = S('c'),\r\n            _items = S('i'),\r\n            _delete = S('d'),\r\n            _scope = S('s'),\r\n            _fn = S('f'),\r\n            _selector = S('$'),\r\n            _match = S('m'),\r\n            _animation = S('a'),\r\n            _teardown = S('t'),\r\n            _static = _scope\r\n\r\nif (!S.observable) S.observable=S('observable')\r\nif (!S.dispose) S.dispose=S('dispose')\r\n", "import {_teardown} from './src/sym.js'\r\n\r\nexport default (init) => new Ref(init)\r\n\r\nclass Ref {\r\n  constructor(arg){\r\n    // FIXME: use private maybe?\r\n    Object.defineProperties(this, {\r\n      observers: {value:[]},\r\n    })\r\n    this[0] = arg\r\n  }\r\n\r\n  get value() { return this[0] }\r\n  set value(val) {\r\n    this[0] = val\r\n    for (let sub of this.observers) {\r\n      if (typeof sub[_teardown] === 'function') sub[_teardown]()\r\n      if (sub.next) (sub[_teardown] = sub.next(val))\r\n    }\r\n  }\r\n\r\n  valueOf() {return this.value}\r\n  toString() {return this.value}\r\n  [Symbol.toPrimitive](hint) {return this.value}\r\n\r\n  // FIXME: replace with 0b?\r\n  subscribe(next, error, complete) {\r\n    next = next && next.next || next\r\n    error = next && next.error || error\r\n    complete = next && next.complete || complete\r\n\r\n    const unsubscribe = () => (\r\n      this.observers.length && this.observers.splice(this.observers.indexOf(subscription) >>> 0, 1),\r\n      complete && complete()\r\n    ),\r\n    subscription = { next, error, complete, unsubscribe, [_teardown]:null }\r\n    this.observers.push(subscription)\r\n\r\n    if ( this[0] !== undefined ) subscription[_teardown] = next(this[0])\r\n\r\n    return unsubscribe.unsubscribe = unsubscribe\r\n  }\r\n\r\n  map(mapper) {\r\n    const ref = new Ref()\r\n    this.subscribe(v => ref.value = mapper(v))\r\n    return ref\r\n  }\r\n\r\n  error(e) {this.observers.map(sub => sub.error && sub.error(e))}\r\n\r\n  [Symbol.observable](){return this}\r\n\r\n  async *[Symbol.asyncIterator]() {\r\n    let resolve, buf = [], p = new Promise(r => resolve = r),\r\n      unsub = this.subscribe(v => ( buf.push(v), resolve(), p = new Promise(r => resolve = r) ))\r\n    try { while (1) yield* buf.splice(0), await p }\r\n    catch {}\r\n    finally { unsub() }\r\n  }\r\n\r\n  [Symbol.dispose]() {\r\n    this[0] = null\r\n    const unsubs = this.observers.map(sub => ((typeof sub[_teardown] === 'function') && sub[_teardown](), sub.unsubscribe))\r\n    this.observers.length = 0\r\n    unsubs.map(unsub => unsub())\r\n  }\r\n}\r\n", "import v from './v.js'\r\nimport { _teardown,\r\n      _channel,\r\n      _items,\r\n      _delete,\r\n      _scope,\r\n      _fn,\r\n      _selector,\r\n      _match,\r\n      _animation } from './src/sym.js'\r\n\r\nconst ELEMENT = 1\r\nconst SPECT_CLASS = '\uD83D\uDC41'\r\nlet count = 0\r\n\r\nconst ids = {}, classes = {}, tags = {}, names = {}, animations = {}, setCache = new WeakMap\r\n\r\nconst hasAnimevent = typeof AnimationEvent !== 'undefined'\r\nconst style = document.head.appendChild(document.createElement('style'))\r\n\r\n\r\n// FIXME: use Symbol.species to fix add/map/etc\r\n\r\nexport default function (scope, selector, fn) {\r\n  // spect`#x`\r\n  if (scope && scope.raw) return new $(null, String.raw.apply(null, arguments))\r\n  // spect(selector, fn)\r\n  if (typeof scope === 'string') return new $(null, scope, selector)\r\n  // spect(target, fn)\r\n  if (!selector ||  typeof selector === 'function') {\r\n    fn = selector\r\n    let target = scope\r\n    if (!target) target = []\r\n    if (target.nodeType) target = [target]\r\n\r\n    const set = new $(null, null, fn)\r\n    target.forEach(el => set.add(el))\r\n    return set\r\n  }\r\n\r\n  return new $(scope, selector, fn)\r\n}\r\n\r\nclass $ extends Array {\r\n  constructor(scope, selector, fn){\r\n    // self-call, like splice, map, slice etc. fall back to array\r\n    if (typeof scope === 'number') return Array(scope)\r\n\r\n    super()\r\n\r\n    this[_channel] = v(this)\r\n    this[_items] = new WeakMap\r\n    this[_delete] = new WeakSet\r\n    this[_teardown] = new WeakMap\r\n    this[_scope] = scope\r\n    this[_fn] = fn\r\n\r\n    // ignore non-selector collections\r\n    if (!selector) return\r\n\r\n    // init existing elements\r\n    const proto = Object.getPrototypeOf(this)\r\n    ;(scope || document).querySelectorAll(selector).forEach(el => {proto.add.call(this, el)})\r\n\r\n    // if last selector part is simple (id|name|class|tag), followed by classes - index that\r\n    const rtokens = /(?:#([\\w:-]+)|\\[\\s*name=['\"]?([\\w:-]+)['\"]?\\s*\\]|\\.([\\w:-]+)|([\\*\\w:-]+))(\\[[^\\]]+\\]|\\.[\\w:-]+)*$/\r\n\r\n    this[_selector] = selector.split(/\\s*,\\s*/).map(selector => {\r\n      selector = new String(selector)\r\n\r\n      const match = selector.match(rtokens)\r\n      selector.filter = selector\r\n      if (!match) return selector\r\n\r\n      let [str, id, name, cls, tag, filter] = match\r\n      if (id) (ids[selector.id = id] = ids[id] || []).push(this)\r\n      else if (name) (names[selector.name = name] = names[name] || []).push(this)\r\n      else if (cls) (classes[selector.class = cls] = classes[cls] || []).push(this)\r\n      else if (tag) (selector.tag = tag = tag.toUpperCase(), tags[tag] = tags[tag] || []).push(this)\r\n\r\n      if (filter) selector.filter = selector.slice(0, match.index) + selector.slice(-filter.length)\r\n      // `match.index` === 0 means selector is simple and need no match check\r\n      else if (!match.index) delete selector.filter\r\n\r\n      return selector\r\n    })\r\n    this[_match] = this[_selector].some(sel => sel.filter)\r\n\r\n    // complex selectors are handled via anim events (technique from insertionQuery). Cases:\r\n    // - dynamically added attributes so that existing nodes match (we don't observe attribs in mutation obserever)\r\n    // - complex selectors, inc * - we avoid > O(c) sync mutations check\r\n    // NOTE: only connected scope supports anim observer\r\n    if (!hasAnimevent || !this[_selector].every(sel => sel.tag && !sel.filter)) {\r\n      let anim = animations[this[_selector]]\r\n      if (!anim) {\r\n        const { sheet } = style, { cssRules } = sheet\r\n        anim = animations[this[_selector]] = []\r\n        anim.id = SPECT_CLASS + '-' + (count++).toString(36)\r\n        sheet.insertRule(`@keyframes ${ anim.id }{}`, cssRules.length)\r\n        sheet.insertRule(`${ this[_selector].map(sel => sel + `:not(.${ anim.id })`) }{animation:${ anim.id }}`, cssRules.length)\r\n        sheet.insertRule(`.${ anim.id }{animation:${ anim.id }}`, cssRules.length)\r\n        sheet.insertRule(`${ this[_selector].map(sel => sel + `.${ anim.id }`) }{animation:unset;animation:revert}`, cssRules.length)\r\n        anim.rules = [].slice.call(cssRules, -4)\r\n\r\n        anim.onanim = e => {\r\n          if (e.animationName !== anim.id) return\r\n          e.stopPropagation()\r\n          e.preventDefault()\r\n\r\n          let {target} = e\r\n\r\n          if (!target.classList.contains(anim.id)) {\r\n            target.classList.add(anim.id)\r\n            anim.forEach(set => Object.getPrototypeOf(set).add.call(set, target, false))\r\n          }\r\n          else {\r\n            target.classList.remove(anim.id)\r\n            anim.forEach(set => set.delete(target))\r\n          }\r\n        }\r\n        document.addEventListener('animationstart', anim.onanim, true)\r\n      }\r\n      this[_animation] = anim.id\r\n      anim.push(this)\r\n    }\r\n  }\r\n\r\n  add(el, check=this[_match]) {\r\n    if (!el) return\r\n\r\n    // ignore existing\r\n    if (this[_items].has(el)) return\r\n\r\n    // ignore not-matching\r\n    if (check) if (!el.matches(this[_selector])) return\r\n\r\n    // ignore out-of-scope\r\n    if (this[_scope]) {\r\n      if (this[_scope] === el) return\r\n      if (this[_scope].nodeType) { if (!this[_scope].contains(el)) return }\r\n      else if ([].every.call(this[_scope], scope => !scope.contains(el))) return\r\n    }\r\n\r\n    // track collection\r\n    this.push(el)\r\n    this[_items].set(el, [el.id, el.name])\r\n    if (el.name) this[el.name] = el\r\n    if (el.id) this[el.id] = el\r\n\r\n    // cancel planned delete\r\n    if (this[_delete].has(el)) this[_delete].delete(el)\r\n\r\n    // ignore existing items\r\n    if (setCache.has(el) && setCache.get(el).has(this)) return\r\n\r\n    // FIXME: name/id ref obsever - seems like overkill, waiting for real-case demand\r\n    // NOTE: this does not hook props added after\r\n    // if ((el.name || el.id)) {\r\n    //   if (!el[_observer]) {\r\n    //     let name = el.name, id = el.id\r\n    //     // id/name mutation observer tracks refs and handles unmatch\r\n    //     ;(el[_observer] = new MutationObserver(records => {\r\n    //       if (name && (el.name !== name)) if (names[name]) names[name].forEach(c => (delete c[name], c.delete(el)))\r\n    //       if (name = el.name) if (names[name]) names[name].forEach(c => c.add(el))\r\n    //       if (id && (el.id !== id)) if (ids[id]) ids[id].forEach(c => (delete c[id], c.delete(el)))\r\n    //       if (id = el.id) if (ids[id]) ids[id].forEach(c => c.add(el))\r\n    //     }))\r\n    //     .observe(el, {attributes: true, attributeFilter: ['name', 'id']})\r\n    //   }\r\n    // }\r\n\r\n    // enable item\r\n    if (!setCache.has(el)) setCache.set(el, new Set)\r\n\r\n    // mark element\r\n    setCache.get(el).add(this)\r\n    el.classList.add(SPECT_CLASS)\r\n\r\n    // notify\r\n    this[_teardown].set(el, this[_fn] && this[_fn](el))\r\n    this[_channel].value = this\r\n  }\r\n\r\n  delete(el, immediate = false) {\r\n    if (!this[_items].has(el)) return\r\n\r\n    // remove element from list sync\r\n    if (this.length) this.splice(this.indexOf(el >>> 0, 1), 1)\r\n    const [id, name] = this[_items].get(el)\r\n    if (name) delete this[name]\r\n    if (id) delete this[id]\r\n    this[_items].delete(el)\r\n    // plan destroy async (can be re-added)\r\n    this[_delete].add(el)\r\n\r\n    const del = () => {\r\n      if (!this[_delete].has(el)) return\r\n      this[_delete].delete(el)\r\n\r\n      if (!setCache.has(el)) return\r\n      const teardown = this[_teardown].get(el)\r\n      if (teardown) {\r\n        if (teardown.call) teardown(el)\r\n        else if (teardown.then) teardown.then(fn => fn && fn.call && fn())\r\n      }\r\n      this[_teardown].delete(el)\r\n      this[_channel].value = this\r\n\r\n      setCache.get(el).delete(this)\r\n      if (!setCache.get(el).size) {\r\n        setCache.delete(el)\r\n        el.classList.remove(SPECT_CLASS)\r\n        // if (el[_observer]) {\r\n        //   el[_observer].disconnect()\r\n        //   delete el[_observer]\r\n        // }\r\n      }\r\n    }\r\n\r\n    if (immediate) del()\r\n    else requestAnimationFrame(del)\r\n  }\r\n\r\n  [Symbol.observable]() {\r\n    return this[_channel]\r\n  }\r\n\r\n  item(n) { return n < 0 ? this[this.length + n] : this[n] }\r\n\r\n  namedItem(name) { return this[name] }\r\n\r\n  has(item) { return this[_items].has(item) }\r\n\r\n  [Symbol.dispose]() {\r\n    const self = this\r\n\r\n    if (self[_selector]) {\r\n      self[_selector].forEach(({id, class:cls, name, tag}) => {\r\n        id && ids[id].splice(ids[id].indexOf(self) >>> 0, 1)\r\n        name && names[name].splice(names[name].indexOf(self) >>> 0, 1)\r\n        cls && classes[cls].splice(classes[cls].indexOf(self) >>> 0, 1)\r\n        tag && tags[tag].splice(tags[tag].indexOf(self) >>> 0, 1)\r\n      })\r\n    }\r\n    if (self[_animation]) {\r\n      const anim = animations[self[_selector]]\r\n      anim.splice(anim.indexOf(self) >>> 0, 1)\r\n      if (!anim.length) {\r\n        document.removeEventListener('animationstart', anim.onanim)\r\n        delete animations[self[_selector]]\r\n        if (anim.rules) anim.rules.forEach(rule => {\r\n          let idx = [].indexOf.call(style.sheet.cssRules, rule)\r\n          if (~idx) style.sheet.deleteRule(idx)\r\n        })\r\n      }\r\n    }\r\n\r\n    self[_channel][Symbol.dispose]()\r\n    let els = [...self]\r\n    self.length = 0\r\n    els.forEach(el => self.delete(el, true))\r\n  }\r\n}\r\n\r\nconst queryAdd = (targets, sets, check) => {\r\n  if (!sets || !targets) return\r\n  ;[].forEach.call(targets.nodeType ? [targets] : targets, target => sets.forEach(set => Object.getPrototypeOf(set).add.call(set, target, check)))\r\n}\r\nconst queryDelete = target => [target.classList.contains(SPECT_CLASS) ? target : null, ...target.getElementsByClassName(SPECT_CLASS)]\r\n  .forEach(node => setCache.has(node) && setCache.get(node).forEach(set => set.delete(node)))\r\n\r\n;(new MutationObserver((list) => {\r\n  for (let mutation of list) {\r\n    let { addedNodes, removedNodes, target } = mutation\r\n\r\n    // fallback for no-animevents env (like SSR)\r\n    // WARN: O(n*m) or worse performance (insignificant for small docs)\r\n    if (!hasAnimevent) {\r\n      queryDelete(target)\r\n      for (let sel in animations) queryAdd([target, ...target.querySelectorAll(sel)], animations[sel], true)\r\n    }\r\n\r\n    removedNodes.forEach(target => target.nodeType === ELEMENT && queryDelete(target))\r\n\r\n    addedNodes.forEach(target => {\r\n      if (target.nodeType !== ELEMENT) return\r\n\r\n      // selector-set optimization:\r\n      // instead of walking all registered selectors for each node, we detect which selectors are applicable for the node\r\n      if (target.id) {\r\n        queryAdd(target, ids[target.id])\r\n        // NOTE: <a> and other inlines may not have `getElementById`\r\n        if (target.getElementById) for (let id in ids) queryAdd(target.getElementById(id), ids[id])\r\n      }\r\n      if (target.name) {\r\n        queryAdd(target, names[target.name])\r\n        for (let name in names) queryAdd(target.getElementsByName(name), names[name])\r\n      }\r\n      if (target.className) {\r\n        target.classList.forEach(cls => queryAdd(target, classes[cls]))\r\n        for (let cls in classes) queryAdd(target.getElementsByClassName(cls), classes[cls])\r\n      }\r\n      queryAdd(target, tags[target.tagName])\r\n      for (let tag in tags) queryAdd(target.getElementsByTagName(tag), tags[tag])\r\n    })\r\n  }\r\n}))\r\n.observe(document, {\r\n  childList: true,\r\n  subtree: true,\r\n  attributes: !hasAnimevent\r\n})\r\n", "// https://github.com/developit/htm\r\nvar n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\r\n", "const S = Symbol\r\n// lil subscriby (v-less)\r\nexport const sube = (target, fn) => {\r\n  let unsub, stop\r\n  if (target[S.observable]) unsub = target[S.observable]().subscribe({next:fn})\r\n  else if (target.subscribe) unsub = target.subscribe(fn)\r\n  else if (target[S.asyncIterator]) {\r\n    unsub = () => stop = true\r\n    ;(async () => { for await (target of target) { if (stop) break; fn(target) } })()\r\n  }\r\n  else if (target.then) target.then(fn)\r\n  else if (typeof target === 'function' && target.set) unsub = target(fn)\r\n  return unsub\r\n}\r\n\r\n// not so generic, but performant\r\nexport const primitive = (val) =>\r\n  !val ||\r\n  typeof val === 'string' ||\r\n  typeof val === 'boolean' ||\r\n  typeof val === 'number' ||\r\n  (typeof val === 'object' ? (val instanceof RegExp || val instanceof Date) :\r\n  typeof val !== 'function')\r\n\r\nexport const observable = (arg) => !primitive(arg) &&\r\n  !!(\r\n    arg[S.observable] || arg[S.asyncIterator] ||\r\n    (typeof arg === 'function' && arg.set) ||\r\n    arg.next || arg.then\r\n    // || arg.mutation && arg._state != null\r\n  )\r\n\r\nexport const observer = (next, error, complete) => (next && next.call) || (error && error.call) || (complete && complete.call) || (next && observer(next.next, next.error, next.complete))\r\n", "import htm from './src/htm.js'\r\nimport { observable, primitive, sube } from './src/util.js'\r\nimport { _teardown, _static } from './src/sym.js'\r\n\r\n// DOM\r\nconst TEXT = 3, ELEM = 1, ATTR = 2, COMM = 8, FRAG = 11, COMP = 6,\r\n      SHOW_ELEMENT = 1, SHOW_TEXT = 4, SHOW_COMMENT = 128\r\n\r\nconst cache = new WeakSet\r\n\r\nconst ctx = {init:false}\r\nexport const h = hyperscript.bind(ctx)\r\n\r\nexport default function (statics) {\r\n  if (!Array.isArray(statics)) return h(...arguments)\r\n\r\n  // HTM caches nodes that don't have attr or children fields\r\n  // eg. <a><b>${1}</b></a> - won't cache `a`,`b`, but <a>${1}<b/></a> - will cache `b`\r\n  // for that purpose we first build template with blank fields, marking all fields as tpl\r\n  // NOTE: static nodes caching is bound to htm.this (h) function, so can't substitute it\r\n  // NOTE: we can't use first non-cached call result, because it serves as source for further cloning static nodes\r\n  let result, count = 1\r\n  if (!cache.has(statics)) count++, cache.add(statics)\r\n  while (count--) {\r\n    ctx.init = count ? true : false\r\n    // init render may setup observables, which is undesirable - so we skip attributes\r\n    result = htm.apply(h, count ? [statics] : arguments)\r\n  }\r\n\r\n  return primitive(result) ? document.createTextNode(result == null ? '' : result) :\r\n        Array.isArray(result) ? h(document.createDocumentFragment(), null, ...result) :\r\n        result[_static] ? result.cloneNode(true) : result\r\n}\r\n\r\nfunction hyperscript(tag, props, ...children) {\r\n  const init = this.init\r\n  if (typeof tag === 'string') {\r\n    // hyperscript-compat\r\n    if (/#|\\./.test(tag)) {\r\n      let id, cls\r\n      [tag, id] = tag.split('#')\r\n      if (id) [id, ...cls] = id.split('.')\r\n      else [tag, ...cls] = tag.split('.')\r\n      if (id || cls.length) {\r\n        props = props || {}\r\n        if (id) props.id = id\r\n        if (cls.length) props.class = cls\r\n      }\r\n    }\r\n    tag = document.createElement(tag)\r\n\r\n    // shortcut for faster creation, static nodes are really simple\r\n    if (init) {\r\n      tag[_static] = true\r\n      for (let name in props) attr(tag, name, props[name])\r\n      tag.append(...flat(children))\r\n      return tag\r\n    }\r\n  }\r\n  // init call is irrelevant for dynamic nodes\r\n  else if (init) return\r\n  else if (typeof tag === 'function') {\r\n    tag = tag({children, ...props})\r\n    // FIXME: is there a more elegant way?\r\n    if (Array.isArray(tag)) {\r\n      let frag = document.createDocumentFragment()\r\n      frag.append(...tag)\r\n      tag = frag\r\n    }\r\n    // component is completed - no need to post-merge children/props\r\n    return tag\r\n  }\r\n  // clean up previous observables\r\n  else if (tag[Symbol.dispose]) tag[Symbol.dispose]()\r\n\r\n  // apply props\r\n  let teardown = [], subs, i, child\r\n  for (let name in props) {\r\n    let value = props[name]\r\n    // FIXME: tweak own compiler\r\n    if (typeof value === 'string') value = value.replace(/false|null|undefined/g,'')\r\n\r\n    // primitive is more probable also less expensive than observable check\r\n    if (primitive(value)) attr(tag, name, value)\r\n    else if (observable(value)) teardown.push(sube(value, v => attr(tag, name, v)))\r\n    else if (name === 'style') {\r\n      for (let s in value) {\r\n        let v = value[s]\r\n        if(observable(v)) teardown.push(sube(v, v => tag.style.setProperty(s, v)))\r\n        else {\r\n          let match = v.match(/(.*)\\W+!important\\W*$/);\r\n          if (match) tag.style.setProperty(s, match[1], 'important')\r\n          else tag.style.setProperty(s, v)\r\n        }\r\n      }\r\n    }\r\n    else attr(tag, name, value)\r\n  }\r\n\r\n  // detect observables\r\n  for (i = 0; i < children.length; i++)\r\n    if (child = children[i]) {\r\n      // static nodes (cached by HTM) must be cloned, because h is not called for them more than once\r\n      if (child[_static]) (children[i] = child.cloneNode(true))\r\n      else if (observable(child)) (subs || (subs = []))[i] = child, child = document.createTextNode('')\r\n    }\r\n\r\n  // append shortcut\r\n  if (!tag.childNodes.length) tag.append(...flat(children))\r\n  else merge(tag, tag.childNodes, flat(children))\r\n\r\n  if (subs) teardown.push(...subs.map((sub, i) => sube(sub, child => (\r\n    children[i] = child,\r\n    merge(tag, tag.childNodes, flat(children))\r\n  ))))\r\n  if (teardown.length) tag[_teardown] = teardown\r\n  tag[Symbol.dispose] = tag.unsubscribe = dispose\r\n\r\n  return tag\r\n}\r\n\r\nfunction dispose () {if (this[_teardown]) for (let fn of this[_teardown]) fn.call?fn():fn.unsubscribe(); this[_teardown] = null }\r\n\r\nconst flat = (children) => {\r\n  let out = [], i = 0, item\r\n  for (; i < children.length;) {\r\n    if ((item = children[i++]) != null) {\r\n      if (primitive(item) || item.nodeType) out.push(item)\r\n      else if (item[Symbol.iterator]) for (item of item) out.push(item)\r\n    }\r\n  }\r\n  return out\r\n}\r\n\r\n// FIXME: make same-key morph for faster updates\r\n// FIXME: modifying prev key can also make it faster\r\nconst same = (a, b) => a === b || (a && b && a.nodeType === TEXT && b.nodeType === TEXT && a.data === b.data)\r\n\r\n// SOURCE: src/diff-inflate.js\r\nconst merge = (parent, a, b, end = null) => {\r\n  let i = 0, cur, next, bi, n = b.length, m = a.length\r\n\r\n  // skip head/tail\r\n  while (i < n && i < m && same(a[i], b[i])) i++\r\n  while (i < n && i < m && same(b[n-1], a[m-1])) end = b[--m, --n]\r\n\r\n  // append/prepend shortcut\r\n  if (i == m) while (i < n) insert(parent, b[i++], end)\r\n\r\n  else {\r\n    cur = a[i]\r\n\r\n    while (i < n) {\r\n      bi = b[i++], next = cur ? cur.nextSibling : end\r\n\r\n      // skip\r\n      if (same(cur, bi)) cur = next\r\n\r\n      // swap / replace\r\n      else if (i < n && same(b[i], next)) (replace(parent, cur, bi), cur = next)\r\n\r\n      // insert\r\n      else insert(parent, bi, cur)\r\n    }\r\n\r\n    // remove tail\r\n    while (cur != end) (next = cur.nextSibling, parent.removeChild(cur), cur = next)\r\n  }\r\n\r\n  return b\r\n}\r\n\r\nconst insert = (parent, a, before) => {\r\n  if (a != null) {\r\n    if (primitive(a)) parent.insertBefore(document.createTextNode(a), before)\r\n    else parent.insertBefore(a, before)\r\n  }\r\n}\r\n\r\n// note the order is different from replaceNode(new, old)\r\nconst replace = (parent, from, to, end) => {\r\n  if (to != null) {\r\n    if (primitive(to)) if (from.nodeType === TEXT) from.data = to; else from.replaceWith(to)\r\n    else if (to.nodeType) parent.replaceChild(to, from)\r\n    // FIXME: make sure no slice needed here\r\n    else merge(parent, [from], to, end)\r\n  }\r\n}\r\n\r\n// excerpt from element-props\r\nconst attr = (el, k, v, desc) => (\r\n  el[k] !== v &&\r\n  // avoid readonly props https://jsperf.com/element-own-props-set/1\r\n  (!(k in el.constructor.prototype) || !(desc = Object.getOwnPropertyDescriptor(el.constructor.prototype, k)) || desc.set) &&\r\n    (el[k] = v),\r\n  v === false || v == null ? el.removeAttribute(k) :\r\n  typeof v !== 'function' && el.setAttribute(k,\r\n    v === true ? '' :\r\n    typeof v === 'number' || typeof v === 'string' ? v :\r\n    k === 'class' && Array.isArray(v) ? v.filter(Boolean).join(' ') :\r\n    k === 'style' && v.constructor === Object ?\r\n      (k=v,v=Object.values(v),Object.keys(k).map((k,i) => `${k}: ${v[i]};`).join(' ')) :\r\n    ''\r\n  )\r\n)\r\n", "import $ from './$.js'\r\nimport h from './h.js'\r\nimport v from './v.js'\r\n\r\nexport { $, h, v }\r\nexport default $\r\n"],
  "mappings": "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",
  "names": []
}
